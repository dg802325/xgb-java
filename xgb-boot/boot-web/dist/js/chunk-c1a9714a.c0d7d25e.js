(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1a9714a"],{"09a0":function(t,e,s){},"2e3c":function(t,e,s){"use strict";var r=s("09a0"),a=s.n(r);a.a},5744:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-border v-order-container"},[r("div",{staticClass:"center-tab"},[r("div",{staticClass:"tab-item",class:{active:0==t.status},on:{click:function(e){t.status=0}}},[t._v("全部订单")]),r("div",{staticClass:"tab-item",class:{active:1==t.status},on:{click:function(e){t.status=1}}},[t._v("待付款")]),r("div",{staticClass:"tab-item",class:{active:2==t.status},on:{click:function(e){t.status=2}}},[t._v("待发货")]),r("div",{staticClass:"tab-item",class:{active:3==t.status},on:{click:function(e){t.status=3}}},[t._v("待收货")]),r("div",{staticClass:"tab-item",class:{active:5==t.status},on:{click:function(e){t.status=5}}},[t._v("已完成")]),r("div",{staticClass:"tab-item",class:{active:6==t.status},on:{click:function(e){t.status=6}}},[t._v("已取消")])]),r("div",{staticClass:"c-order-group order-list"},[t._l(t.ocOrderList,(function(e){return r("div",{key:e.id,staticClass:"c-order-item"},[r("div",{staticClass:"c-order-header"},[r("div",{staticClass:"l"},[r("p",[t._v("下单时间："+t._s(e.createTime))]),r("p",[t._v("订单编号："+t._s(e.orderNo))])]),t._m(0,!0)]),r("div",{staticClass:"c-order-body"},[r("div",{staticClass:"order-item"},[r("div",{staticClass:"sku-info"},t._l(e.orderCommodity,(function(e){return r("div",{key:e.id,staticClass:"order-sku"},[r("router-link",{staticClass:"img",attrs:{to:"/detail/"+e.skuId}},[r("img",{attrs:{src:e.skuImg}})]),r("p",{staticClass:"name"},[t._v(t._s(e.skuName))]),r("p",{staticClass:"num"},[t._v("数量："+t._s(e.orderBuyNumber))])],1)})),0),r("div",{staticClass:"order-status"},[r("p",{staticClass:"status"},[t._v(t._s(t.userStateMap[e.orderState]))])]),r("div",{staticClass:"order-info"},[r("p",[t._v("¥"+t._s(e.orderActualAmount))]),r("p",[t._v("在线支付")])]),1==e.orderState?r("div",{staticClass:"order-option"},[r("el-button",{staticClass:"red",attrs:{type:"danger"},on:{click:function(s){return t.toPay(e)}}},[t._v("立即付款")]),r("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.cancelOrder(e)}}},[t._v("取消订单")])],1):t._e(),2==e.orderState?r("div",{staticClass:"order-option"},[r("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.cancelVisible=!0}}},[t._v("取消订单")])]):t._e(),3==e.orderState?r("div",{staticClass:"order-option"},[r("el-button",{staticClass:"red",attrs:{type:"danger"},on:{click:function(s){return t.confirmReceipt(e.id)}}},[t._v("确认收货")])],1):t._e(),5==e.orderState?r("div",{staticClass:"order-option"},[r("router-link",{attrs:{to:"/"}},[t._v("重新购买")])],1):t._e(),6==e.orderState?r("div",{staticClass:"order-option"},[r("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.deleteMemberOrder(e.id)}}},[t._v("删除订单")]),r("router-link",{attrs:{to:"/"}},[t._v("重新购买")])],1):t._e()])])])})),0==t.ocOrderList.length?r("div",{staticClass:"empty"},[r("img",{attrs:{src:s("a5ec")}}),r("p",[t._v("暂无相关订单")])]):t._e()],2),t.cancelVisible?r("v-cancel-order",{on:{close:t.cancelCallback}}):t._e()],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"r"},[s("p")])}],i=(s("96cf"),s("3b8d")),c=s("5f87"),n={data:function(){return{status:0,cancelVisible:!1,ocOrderList:[],orderStateMap:{1:"已提交",2:"已支付",3:"已发货",5:"已完成",6:"已关闭"},userStateMap:{1:"待付款",2:"待发货",3:"待收货",5:"已完成",6:"已取消"},selectOrder:{}}},watch:{status:function(t){0==t?this.getMyOrderList():1==t?this.getMyOrderList(1):2==t?this.getMyOrderList(2):5==t?this.getMyOrderList(5):6==t&&this.getMyOrderList(6)}},mounted:function(){this.getMyOrderList()},methods:{cancelOrder:function(t){var e=this;this.selectOrder=t,this.$$confirm("确定取消该订单？").then((function(){e.cancelCallback(!1)})).catch((function(t){}))},cancelCallback:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this.$post("/api/cancelMemberOrder",{orderId:this.selectOrder.id});case 3:s=t.sent,"200"===s.code?this.getMyOrderList():this.$message.error(s.message);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteMemberOrder:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$post("/api/deleteMemberOrder",{orderId:e});case 2:s=t.sent,"200"===s.code?(this.getMyOrderList(),this.$message.success(s.message)):this.$message.error(s.message);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),toPay:function(t){this.$router.push("/order/pay/".concat(t.id,"/").concat(t.orderActualAmount,"/").concat(t.failureTime))},confirmReceipt:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$$confirm("是否确认收货？").then(Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$post("/api/confirmReceipt",{orderId:e});case 2:r=t.sent,s.$$message(r.message,r.code),s.getMyOrderList();case 5:case"end":return t.stop()}}),t)})))).catch((function(t){}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getMyOrderList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.ocOrderList=[],s=Object(c["b"])(),t.next=4,this.$get("/api/getMyOrderList",{token:s,status:e});case 4:r=t.sent,"200"===r.code&&(this.ocOrderList=r.ocOrderList);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteEvent:function(){var t=this;this.$$confirm("是否删除该订单？").then((function(){t.$message({type:"success",message:"删除成功!"})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},o=n,u=(s("2e3c"),s("2877")),d=Object(u["a"])(o,r,a,!1,null,null,null);e["default"]=d.exports},a5ec:function(t,e,s){t.exports=s.p+"img/u806.6d5720ec.svg"}}]);
//# sourceMappingURL=chunk-c1a9714a.c0d7d25e.js.map